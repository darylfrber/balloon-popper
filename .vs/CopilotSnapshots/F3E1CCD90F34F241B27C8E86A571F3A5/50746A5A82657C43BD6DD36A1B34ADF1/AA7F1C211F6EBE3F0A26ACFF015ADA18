using UnityEngine;
using UnityEngine.UI;

namespace BalloonBuster.Core
{
    public class HUDController : MonoBehaviour
    {
        public Text scoreText;
        public Text timerText;
        public GameObject menuPanel;
        public GameObject gameOverPanel;
        public GameObject doublePointsIndicator;

        void Start()
        {
            UpdateScore(0);
            UpdateTimer(0);
            ShowMenu(true);
            ShowGameOver(false);
            if (doublePointsIndicator) doublePointsIndicator.SetActive(false);
        }

        public void UpdateScore(int value)
        {
            if (scoreText) scoreText.text = $"Score: {value}";
        }

        public void UpdateTimer(float time)
        {
            if (timerText) timerText.text = Mathf.CeilToInt(time).ToString();
        }

        public void ShowMenu(bool show)
        {
            if (menuPanel) menuPanel.SetActive(show);
        }

        public void ShowGameOver(bool show)
        {
            if (gameOverPanel) gameOverPanel.SetActive(show);
        }

        public void OnStartButton()
        {
            GameManager.Instance.StartGame();
        }

        public void OnRestartButton()
        {
            GameManager.Instance.StartGame();
        }

        public void SetDoublePoints(bool active)
        {
            if (doublePointsIndicator) doublePointsIndicator.SetActive(active);
        }
    }
}
